# CitySelector
常见的城市列表选择功能（包括搜索）
自从前天上传了第一个版本之后，我就一直在想解决的办法，为了方便没看过上一篇的朋友，我这里再简单的说下，基本功能实现之后，
由于调用了汉字转拼音的jpinyin.jar，第一次进入的时间非常长，这样的用户体验效果非常的不好，这就是一种如鲠在喉的感觉，
卡在这里着实难受，后来我仔细分析解决的思路无非有两个方向：修改jar包，因为数据库中有3000多条的数据，每个数据都要遍历转化，
且转化的时候还要遍历匹配转化的对应表，这也就难怪耗时比较长了，汉字拼音从"a"到"zuo",具体多少个，小伙伴们有兴趣的可以翻翻汉语词典，
哈哈。加入有500个，需要查询的数据就是3000*500了，这也就解释了解析耗时的原因，另一个方向是，我自己手动在数据库中增加一个字段，
把大写字母附上去。3000多条的数据，我瞬间就蒙蔽了，这里推荐一款本人感觉非常使用的数据库操作软件：SQLite Expert Professional 3
（Android开发必备），刚开始以为也就是3000多个大小写的字母而已，没想到插数据花了我接近4个小时的时间，眼都花了，看到这里，
你们可能会说，程序员当然不可以这样做了，写个算法遍历一下，我也确实做了，但是效果并不好，很多生僻的字无法识别，算了，
我还是老老实实的一个一个添加吧，笨方法确实也有笨方法的收获，最起码我把中国的所有县级及县级以上的城市所有过了一遍，汉语拼音确实提高了不少，
我竟然看到一个叫做"尼玛县"的城市，我尼玛，惊到我了，也修改了几个乱码的城市，当然也删除了一个重复添加的城市，当然这是前人留下的小错误，
到我这里的时候，我希望最起码已知的我要解决它，如果没有遍历一遍，这些错误也发现不了，所幸这四个小时的时间是值了。然后重新覆盖原来的数据库，
删除掉jar包，秒响应，哈哈，当时心里的那一个爽啊。在这个基础上我有略微了添加了一些修改，除了以前的二级城市的模糊查询以及省一级的查询，
我又增加了县一级的头部匹配查询，肯能这里说的比较乱，我重新解释下输入框的逻辑功能：输入“江苏”，则会列出江苏省的十三个城市；
输入“州”，则会列出所有带有“州”的城市，比如：苏州、杭州、亳州、台州等等；输入二级城市，比如“宿迁”，则会列出宿迁的三县两区：
沭阳县、泗阳县、泗洪县、宿城区、宿豫区。最后输入“沭”或者“沭阳”，则会列出“沭阳县”。（不小心的暴露了自己老家，哈哈）
到这里就解释完了，对了，还有一个错误关键字的Toast提示，希望大家看懂我的意思了。还是那句话，本人亲测有用，杜绝那种擦边球的demo，
虽说不上高大上，但是项目里绝对拿得出手。希望可以帮助到大家，有任何的疑问大家都可以和我联系。
QQ:470794349
